<table class="hide noborder">
    <tr align="right">
        <td colspan="15">监-**</td>
    </tr>
</table>
<h1>五日生化需氧量检验记录<br>(接种与稀释法)</h1>
{$hjtj_bt}
<table class="single center">
    <tr class="noborder">
        <td style="width:10%"></td>
        <td style="width:12%"></td>
        <td style="width:10%"></td>
        <td style="width:12%"></td>
        <td style="width:10%"></td>
        <td style="width:10%"></td>
        <td style="width:10%"></td>
        <td style="width:10%"></td>
        <td style="width:8%"></td>
        <td style="width:8%"></td>
    </tr>
    <tr align="center" class="auto">
        <td rowspan="2">测定方法</td>
        <td rowspan="2" colspan="2" class="left">{$arow['td2']}</td>
        <td rowspan="2">溶解氧测定仪</td>
        <td colspan="3" class="left">名称:{$arow['td4']}</td>
        <td rowspan="2">恒温培养箱</td>
        <td colspan="2" class="left" nowrap="">名称:<input size="12" type="text" name="td7" class="inputl" value="{$arow['td7']}" /></td>
    </tr>
    <tr class="auto">
        <td colspan="3" class="left">编号:{$arow['yq_bh']}</td>
        <td colspan="2" class="left" nowrap="">编号:<input size="12" type="text" name="td8" class="inputl" value="{$arow['td8']}" /></td>
    </tr>
    <tr align="center">
        <td rowspan="2">序号</td>
        <td colspan="1" rowspan="2">{$zhanming}</td>
        <td colspan="1" rowspan="2">采样日期</td>
        <td colspan="2">试验水样mL</td>
        <td rowspan="2">培养前溶解氧浓度（mg/L）</td>
        <td rowspan="2">培养后溶解氧浓度（mg/L）</td>
        <td rowspan="2">BOD<sub>5</sub>({$arow['unit']})</td>
        <td rowspan="2">平均值/<br>理论浓度<br>({$arow['unit']})</td>
        <td rowspan="2">相对偏差/<br>加标回收率(%)</td>
    </tr>
    <tr>
        <td>原水样体积</td>
        <td>总体积</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan="1">稀释水</td>
        <td></td>
        <td><input type="text" class="inputc" name="td9" id="td9" value="{$arow['td9']}" onblur="xss()"></td>
        <td><input type="text" class="inputc" name="td10" id="td10" value="{$arow['td10']}" onblur="xss()"></td>
        <td><input type="text" class="inputc" name="td11" id="td11" value="{$arow['td11']}" onblur="xss()"></td>
        <td><input type="text" class="inputc" name="td12" id="td12" value="{$arow['td12']}" onblur="xss()"></td>
        <td><input type="text" class="noinputc" name="td13" id="td13" value="{$arow['td13']}"></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan="1">稀释水</td>
        <td></td>
        <td><input type="text" class="inputc" name="td14" id="td14" value="{$arow['td14']}" onblur="xss()"></td>
        <td><input type="text" class="inputc" name="td15" id="td15" value="{$arow['td15']}" onblur="xss()"></td>
        <td><input type="text" class="inputc" name="td16" id="td16" value="{$arow['td16']}" onblur="xss()"></td>
        <td><input type="text" class="inputc" name="td17" id="td17" value="{$arow['td17']}" onblur="xss()"></td>
        <td><input type="text" class="noinputc" name="td18" id="td18" value="{$arow['td18']}"></td>
        <td><input type="text" class="noinputc" name="td19" id="td19" value="{$arow['td19']}"></td>
        <td></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan="1">空白</td>
        <td></td>
        <td><input type="text" name="btdata[101]" value="{$arow['btdata'][101]}" id="bt101" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[102]" value="{$arow['btdata'][102]}" id="bt102" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[103]" value="{$arow['btdata'][103]}" id="bt103" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[104]" value="{$arow['btdata'][104]}" id="bt104" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[105]" value="{$arow['btdata'][105]}" id="bt105" class="noinputc"></td>
        <td><input type="hidden" name="btdata[106]" value="{$arow['btdata'][106]}" id="bt106"></td>
        <td></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan="1">验证</td>
        <td></td>
        <td><input type="text" name="btdata[201]" value="{$arow['btdata'][201]}" id="bt201" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[202]" value="{$arow['btdata'][202]}" id="bt202" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[203]" value="{$arow['btdata'][203]}" id="bt203" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[204]" value="{$arow['btdata'][204]}" id="bt204" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[205]" value="{$arow['btdata'][205]}" id="bt205" class="noinputc"></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan="1">验证</td>
        <td></td>
        <td><input type="text" name="btdata[301]" value="{$arow['btdata'][301]}" id="bt301" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[302]" value="{$arow['btdata'][302]}" id="bt302" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[303]" value="{$arow['btdata'][303]}" id="bt303" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[304]" value="{$arow['btdata'][304]}" id="bt304" class="inputc" onblur="xss()"></td>
        <td><input type="text" name="btdata[305]" value="{$arow['btdata'][305]}" id="bt305" class="noinputc"></td>
        <td></td>
        <td></td>
    </tr>
    {$aline}
    <tr class="noborder"></tr>
</table>
<script type="text/javascript">
function getval(id) {
    return document.getElementById(id).value;
}
if (!$.isNumeric(getval('td9'))) {
    document.getElementById('td9').value = 250;
}
if (!$.isNumeric(getval('td10'))) {
    document.getElementById('td10').value = 250;
}
if (!$.isNumeric(getval('td14'))) {
    document.getElementById('td14').value = 250;
}
if (!$.isNumeric(getval('td15'))) {
    document.getElementById('td15').value = 250;
}
if (!$.isNumeric(v('bt101'))) {
    setdata('bt101', 250);
}
if (!$.isNumeric(v('bt102'))) {
    setdata('bt102', 250);
}
if (!$.isNumeric($("[name^='vd1[']").val())) {
    $("[name^='vd1[']").val(250);
}
if (!$.isNumeric($("[name^='vd3[']").val())) {
    $("[name^='vd3[']").val(250);
}

function xss() {
    if (!$.isNumeric(getval('td9'))) {
        document.getElementById('td9').value = 250;
    }
    if (!$.isNumeric(getval('td10'))) {
        document.getElementById('td10').value = 250;
    }
    if (!$.isNumeric(getval('td14'))) {
        document.getElementById('td14').value = 250;
    }
    if (!$.isNumeric(getval('td15'))) {
        document.getElementById('td15').value = 250;
    }
    if (!$.isNumeric(v('bt101'))) {
        setdata('bt101', 250);
    }
    if (!$.isNumeric(v('bt102'))) {
        setdata('bt102', 250);
    }
    if ($("[name='td11']").val().indexOf('.') != -1) {
        var len1 = $("[name='td11']").val().split('.')[1].length;
    } else {
        var len1 = 2;
    }
    if ($("[name='td16']").val().indexOf('.') != -1) {
        var len2 = $("[name='td16']").val().split('.')[1].length;
    } else {
        var len2 = 2;
    }
    if ($.isNumeric(getval('td11')) && $.isNumeric(getval('td12'))) {
        document.getElementById('td13').value = roundjs(accsub(getval('td11'), getval('td12')), 1);
    } else {
        document.getElementById('td13').value = '';
    }
    if ($.isNumeric(getval('td16')) && $.isNumeric(getval('td17'))) {
        document.getElementById('td18').value = roundjs(accsub(getval('td16'), getval('td17')), 1);
    } else {
        document.getElementById('td18').value = '';
    }
    if ($.isNumeric(getval('td13')) && $.isNumeric(getval('td18'))) {
        var res = accDiv(accAdd(getval('td13'), getval('td18')), 2);
        document.getElementById('td19').value = roundjs(res, 1);
    } else {
        document.getElementById('td19').value = '';
    }
    if ($.isNumeric(v('bt103')) && $.isNumeric(v('bt104'))) {
        setdata('bt105', roundjs(accsub(v('bt103'), v('bt104')), 1));
        setdata('bt106', accsub(v('bt103'), v('bt104')));
    } else {
        setdata('bt105', '');
        setdata('bt106', '');
    }
    if ($.isNumeric(v('bt201')) && $.isNumeric(v('bt202')) && $.isNumeric(v('bt203')) && $.isNumeric(v('bt204'))) {
        if (v('bt201') == v('bt202')) {
            setdata('bt205', roundjs(accsub(v('bt203'), v('bt204')), 1));
        } else {
            if ($.isNumeric(v('bt106'))) {
                var data = accDiv(accsub(accsub(v('bt203'), v('bt204')), accMul(v('bt106'), accDiv(accsub(v('bt202'), v('bt201')), v('bt202')))), accDiv(v('bt201'), v('bt202')));
                if (data < 100) {
                    data = roundjs(data, 1);
                } else {
                    data = roundjs(data, 0);
                }
                setdata('bt205', data);
            } else {
                setdata('bt205', '');
            }
        }
    } else {
        setdata('bt205', '');
    }
    if ($.isNumeric(v('bt301')) && $.isNumeric(v('bt302')) && $.isNumeric(v('bt303')) && $.isNumeric(v('bt304'))) {
        if (v('bt301') == v('bt302')) {
            setdata('bt305', roundjs(accsub(v('bt303'), v('bt304')), 1));
        } else {
            if ($.isNumeric(v('bt106'))) {
                var data = accDiv(accsub(accsub(v('bt303'), v('bt304')), accMul(v('bt106'), accDiv(accsub(v('bt302'), v('bt301')), v('bt302')))), accDiv(v('bt301'), v('bt302')));
                if (data < 100) {
                    data = roundjs(data, 1);
                } else {
                    data = roundjs(data, 0);
                }
                setdata('bt305', data);
            } else {
                setdata('bt305', '');
            }
        }
    } else {
        setdata('bt305', '');
    }
}

function jsgs() {
    xss();
    $.isNumeric(vs['vd1']) ? '' : vs['vd1'] = 250;
    $.isNumeric(vs['vd3']) ? '' : vs['vd3'] = 250;

    var kb = v('bt106');
    if ($.isNumeric(vs['vd1']) && $.isNumeric(vs['vd3']) && $.isNumeric(vs['vd4']) && $.isNumeric(vs['vd5'])) {
        if (vs['vd1'] == vs['vd3']) {
            vs['vd0'] = accsub(vs['vd4'], vs['vd5']);
        } else {
            if ($.isNumeric(kb)) {
                var f1 = accDiv(accsub(vs['vd3'], vs['vd1']), vs['vd3']);
                var f2 = accDiv(vs['vd1'], vs['vd3']);
                var jg = accDiv(accsub(accsub(vs['vd4'], vs['vd5']), accMul(kb, f1)), f2);
                vs['vd0'] = jg;
            } else {
                vs['vd0'] = '';
            }
        }
    } else {
        vs['vd0'] = '';
    }
}

</script>
